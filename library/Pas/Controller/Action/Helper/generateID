<?php

/*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */

/**
 * Description of Config
 *
 * @author Katiebear
 */
class Pas_Controller_Action_Helper_Config 
    extends Zend_Controller_Action_Helper_Abstract {
    
    
    public function direct(){
    if(!is_null($this->getAccount())) {
    $inst = $this->getAccount()->institution;
    list($usec, $sec) = explode(" ", microtime());
    $suffix =  strtoupper(substr(dechex($sec), 3) . dechex(round($usec * 8)));
    $findid = $inst . '-' . $suffix;
    return $findid;
    } else {
    throw new Pas_Exception_NotAuthorised('Institution missing');
    }
    }
}
